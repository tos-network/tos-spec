{
  "cases": [
    {
      "name": "consensus_tx_ordering_by_nonce",
      "description": "Transactions from same sender ordered by nonce",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_by_fee",
      "description": "Transactions from different senders ordered by fee (highest first)",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_nonce_gap_deferred",
      "description": "Transaction with nonce gap is deferred in mempool",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_insufficient_balance",
      "description": "Transaction with insufficient balance for fee+amount is skipped",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_block_size_limit",
      "description": "Block size limit respected in transaction ordering",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_fee_replacement",
      "description": "Transaction with same nonce but higher fee replaces in mempool",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_fee_too_low_rejected",
      "description": "Replacement transaction with lower/equal fee is rejected",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": false,
        "error": "FEES_TO_LOW_TO_OVERRIDE",
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_already_in_mempool",
      "description": "Duplicate transaction (same hash) is rejected",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": false,
        "error": "TX_ALREADY_IN_MEMPOOL",
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_already_in_blockchain",
      "description": "Transaction already executed in blockchain is rejected",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": false,
        "error": "TX_ALREADY_IN_BLOCKCHAIN",
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_max_txs_per_block",
      "description": "Block cannot exceed MAX_TXS_PER_BLOCK transactions",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_energy_vs_fee",
      "description": "Transaction can use energy instead of fee",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    },
    {
      "name": "consensus_tx_ordering_multisig_fee",
      "description": "Multisig transactions include additional signature fees",
      "pre_state": {
        "network_chain_id": 0,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": []
      },
      "tx": null,
      "expected": {
        "ok": true,
        "error": null,
        "post_state": null
      }
    }
  ]
}
