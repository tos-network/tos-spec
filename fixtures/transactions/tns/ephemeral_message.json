{
  "cases": [
    {
      "name": "ephemeral_message_success",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "b14f64d28279a25444ae0710b95132c71735dd17d868e392eac21f24bdca9c06db5add752ce3a73a7b1a2283fcb05d68c86c184831dabeb4574e824ea89c2101",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000b14f64d28279a25444ae0710b95132c71735dd17d868e392eac21f24bdca9c06db5add752ce3a73a7b1a2283fcb05d68c86c184831dabeb4574e824ea89c2101"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_too_low",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 99,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000630064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      "expected": {
        "ok": false,
        "error": "INVALID_FORMAT",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_too_high",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 86401,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151810064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      "expected": {
        "ok": false,
        "error": "INVALID_FORMAT",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_content_too_long",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bdaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      "expected": {
        "ok": false,
        "error": "INVALID_FORMAT",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_empty_content",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640000e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
      },
      "expected": {
        "ok": false,
        "error": "INVALID_FORMAT",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_self_send",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "4aee4d7492c012a7554eb5d55d13ba2d6e59643e694a599e8e9a7c9aa1b0ca0e1f90cfc026eae4ceb4117dbd736b3efadf115db638118f493975eccd0365bc0a",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000004aee4d7492c012a7554eb5d55d13ba2d6e59643e694a599e8e9a7c9aa1b0ca0e1f90cfc026eae4ceb4117dbd736b3efadf115db638118f493975eccd0365bc0a"
      },
      "expected": {
        "ok": false,
        "error": "SELF_OPERATION",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_exact_min",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "a26764003931599bff0899293ece73545699b148d47dd0b83b5d7acf97b41b0ff3cee7a27e7a5a9ff5db857c492fd0631672fd1d5d1be06b52dc2e88fe16f702",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000a26764003931599bff0899293ece73545699b148d47dd0b83b5d7acf97b41b0ff3cee7a27e7a5a9ff5db857c492fd0631672fd1d5d1be06b52dc2e88fe16f702"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_exact_max",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 86400,
          "encrypted_content": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "99a894ebb5b7d905714f904e37bf2f6183d62b59b6f01809af5bb5a4124aa90df9e7ed0ffa3b226727488185d47f4ea9e5351b13f809b7304e0a8b7bf438340e",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000099a894ebb5b7d905714f904e37bf2f6183d62b59b6f01809af5bb5a4124aa90df9e7ed0ffa3b226727488185d47f4ea9e5351b13f809b7304e0a8b7bf438340e"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_content_exact_max",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "359348092e285e778ac2eac893207997d07abe304da0995e5558730159e5f404903da0179d1ef72f99406f319b5fc2c2bb9e9875a6c92b6dc16548e833185102",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccce2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000359348092e285e778ac2eac893207997d07abe304da0995e5558730159e5f404903da0179d1ef72f99406f319b5fc2c2bb9e9875a6c92b6dc16548e833185102"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier1",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "39c934b3aae0b612ede1958e90b676cfadb9515ca0f04a46d2b7e5054ce7fb0ebf229727bfdf11b1afe0b0dece73eb52e90e3ea91fa08fedb1f0ea699f19820c",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000039c934b3aae0b612ede1958e90b676cfadb9515ca0f04a46d2b7e5054ce7fb0ebf229727bfdf11b1afe0b0dece73eb52e90e3ea91fa08fedb1f0ea699f19820c"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier1_insufficient",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 100,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 4999,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "b36b0baf33ae48575bb1ed158f7c05b7fe62cf2abba8bfbd32f4bd740984e70e74ab8709e0969c99c623b91b1a30fc995eec79725f37d5df132fbb3d2290bf08",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000013870000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000b36b0baf33ae48575bb1ed158f7c05b7fe62cf2abba8bfbd32f4bd740984e70e74ab8709e0969c99c623b91b1a30fc995eec79725f37d5df132fbb3d2290bf08"
      },
      "expected": {
        "ok": false,
        "error": "INSUFFICIENT_FEE",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 101,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "ce08dc0d22b60eda23ff7bec7b9a179143219802bc6e6b497201303d8b17bc0dcb74af51e41dbeee6fd25208d9adb1ee8cef711f82f84936e7c976f2771a1809",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000ce08dc0d22b60eda23ff7bec7b9a179143219802bc6e6b497201303d8b17bc0dcb74af51e41dbeee6fd25208d9adb1ee8cef711f82f84936e7c976f2771a1809"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2_insufficient",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 101,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 9999,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "66c94505701941c8a401ab6d85d6218fddf98522505c6d4172cd5fa64dd16406be9d90b396b316d15d60693c677e2bfef0af2c2a0d70c954ab38e6d52516b80b",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76000000000000270f000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000066c94505701941c8a401ab6d85d6218fddf98522505c6d4172cd5fa64dd16406be9d90b396b316d15d60693c677e2bfef0af2c2a0d70c954ab38e6d52516b80b"
      },
      "expected": {
        "ok": false,
        "error": "INSUFFICIENT_FEE",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2_boundary",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 28800,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "fc0f830c09c7d0c191131f68db193e4b170ee462d1bad9d593f3e7b49e12f10323e8def88e92fcb3bb814816dabfdd769053c0c64ab32a030437751b2e51950d",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000fc0f830c09c7d0c191131f68db193e4b170ee462d1bad9d593f3e7b49e12f10323e8def88e92fcb3bb814816dabfdd769053c0c64ab32a030437751b2e51950d"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier3",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 28801,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "bbbe928e48e60eed305ff8e69117dcedf6a85cff3c20921cce69dac1d8f8cd0862ffc4b59a78df030d8b60089c7073999d6b627bc8cfb6d374a2be018154f305",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000bbbe928e48e60eed305ff8e69117dcedf6a85cff3c20921cce69dac1d8f8cd0862ffc4b59a78df030d8b60089c7073999d6b627bc8cfb6d374a2be018154f305"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier3_insufficient",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 28801,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 14999,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "ff89c7cf87c1d3ac31624c3f1bdbb212cd0ebb2a2dd1403210cf645e7c6c9e098bde3678dab5643231692000d6055ccc778653459cf1eb4e143ea5f85fd35907",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d760000000000003a970000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000ff89c7cf87c1d3ac31624c3f1bdbb212cd0ebb2a2dd1403210cf645e7c6c9e098bde3678dab5643231692000d6055ccc778653459cf1eb4e143ea5f85fd35907"
      },
      "expected": {
        "ok": false,
        "error": "INSUFFICIENT_FEE",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_max_ttl",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "tx": {
        "version": 1,
        "chain_id": 3,
        "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
        "tx_type": "ephemeral_message",
        "payload": {
          "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
          "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
          "message_nonce": 5,
          "ttl_blocks": 86400,
          "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
          "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
        },
        "fee": 100000,
        "fee_type": 0,
        "nonce": 5,
        "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
        "reference_topoheight": 0,
        "signature": "097cfd249d5928b3bfb52ba48f643aee63d5d0e97c4a76ce8e6dab138df7cd00ddd44dfe9b0d00902ef9ac8c1a6404cb8d3d2fe88d965a0cffd182ee143de10d",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000097cfd249d5928b3bfb52ba48f643aee63d5d0e97c4a76ce8e6dab138df7cd00ddd44dfe9b0d00902ef9ac8c1a6404cb8d3d2fe88d965a0cffd182ee143de10d"
      },
      "expected": {
        "ok": true,
        "error": null,
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    }
  ]
}