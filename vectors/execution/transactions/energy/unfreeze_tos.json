{
  "test_vectors": [
    {
      "name": "unfreeze_tos_success",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 0
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000005f5e100000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000002e8a43273750e8356e71d77ad13ac8d1ca87242703851ef4d8a7eecd049e0e0a6eb830aa975d4eeb330caaff73474a535c07b6b1790889400f07f7bee0e4a60c",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 100000000,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 0,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "2e8a43273750e8356e71d77ad13ac8d1ca87242703851ef4d8a7eecd049e0e0a6eb830aa975d4eeb330caaff73474a535c07b6b1790889400f07f7bee0e4a60c",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000005f5e100000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000002e8a43273750e8356e71d77ad13ac8d1ca87242703851ef4d8a7eecd049e0e0a6eb830aa975d4eeb330caaff73474a535c07b6b1790889400f07f7bee0e4a60c"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "f0b313330b321deb24719208e03e241e1e08c842783e2a08d6d078beab6ce5a6",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 6,
              "frozen": 900000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 900000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 0
                }
              ],
              "pending_unfreezes": [
                {
                  "amount": 100000000,
                  "expire_height": 140
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "unfreeze_tos_insufficient_frozen",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 0
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2490502000000012a05f2000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000083ada9f5338b2dcac503d36504b5314d316abc90810cab6e486d87e52f1c490a361376c0a592b0d4569f54cb13ae44b24940797bba98b107b2b2bd45de9cf704",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 5000000000,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 0,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "83ada9f5338b2dcac503d36504b5314d316abc90810cab6e486d87e52f1c490a361376c0a592b0d4569f54cb13ae44b24940797bba98b107b2b2bd45de9cf704",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2490502000000012a05f2000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000083ada9f5338b2dcac503d36504b5314d316abc90810cab6e486d87e52f1c490a361376c0a592b0d4569f54cb13ae44b24940797bba98b107b2b2bd45de9cf704"
        }
      },
      "expected": {
        "success": false,
        "error_code": 771,
        "state_digest": "4df2ac2f0daa5b915b9972154a04f26a67e1eb46437d28b3cd7c3a5267df9633",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 5,
              "frozen": 1000000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 1000000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 0
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "unfreeze_tos_zero_amount",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 99999
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000007746f9228c4bd70d4460762babcf54972b2f8250ba5dfa6d32474d2491631800022645e83646434358911f8c16499ecbb1eaaa545d36dcb2b3e5f87e695ea303",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 0,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 0,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "7746f9228c4bd70d4460762babcf54972b2f8250ba5dfa6d32474d2491631800022645e83646434358911f8c16499ecbb1eaaa545d36dcb2b3e5f87e695ea303",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000007746f9228c4bd70d4460762babcf54972b2f8250ba5dfa6d32474d2491631800022645e83646434358911f8c16499ecbb1eaaa545d36dcb2b3e5f87e695ea303"
        }
      },
      "expected": {
        "success": false,
        "error_code": 261,
        "state_digest": "4df2ac2f0daa5b915b9972154a04f26a67e1eb46437d28b3cd7c3a5267df9633",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 5,
              "frozen": 1000000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 1000000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 99999
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "unfreeze_amount_zero",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 99999
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000004986bfa7870ec79d7fb106bd5af56aab384773d8a868c82facb3a2de00deb5046670826251f054b37a6e59cd83153524f2b4807e864d11f1d46a2af6686dcb05",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 0,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 0,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "4986bfa7870ec79d7fb106bd5af56aab384773d8a868c82facb3a2de00deb5046670826251f054b37a6e59cd83153524f2b4807e864d11f1d46a2af6686dcb05",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000004986bfa7870ec79d7fb106bd5af56aab384773d8a868c82facb3a2de00deb5046670826251f054b37a6e59cd83153524f2b4807e864d11f1d46a2af6686dcb05"
        }
      },
      "expected": {
        "success": false,
        "error_code": 261,
        "state_digest": "4df2ac2f0daa5b915b9972154a04f26a67e1eb46437d28b3cd7c3a5267df9633",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 5,
              "frozen": 1000000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 1000000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 99999
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "unfreeze_tos_nonzero_fee",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 0
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000005f5e10000000000000000000000640000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000c15b61a0042ecf6aad92c7cd5d1671dad9b26b9a61cc8d0f4f6ad7d64d62f10b5bb9dbcc037fe6e4a4da6bcdc507063f0144751ffcb0bdd270fbbfc3870bae0f",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 100000000,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 100,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "c15b61a0042ecf6aad92c7cd5d1671dad9b26b9a61cc8d0f4f6ad7d64d62f10b5bb9dbcc037fe6e4a4da6bcdc507063f0144751ffcb0bdd270fbbfc3870bae0f",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000005f5e10000000000000000000000640000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000c15b61a0042ecf6aad92c7cd5d1671dad9b26b9a61cc8d0f4f6ad7d64d62f10b5bb9dbcc037fe6e4a4da6bcdc507063f0144751ffcb0bdd270fbbfc3870bae0f"
        }
      },
      "expected": {
        "success": false,
        "error_code": 263,
        "state_digest": "4df2ac2f0daa5b915b9972154a04f26a67e1eb46437d28b3cd7c3a5267df9633",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 5,
              "frozen": 1000000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 1000000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 0
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "unfreeze_non_whole_tos",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 10000000000,
            "nonce": 5,
            "frozen": 1000000000,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "energy_resources": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "energy": 0,
            "frozen_tos": 1000000000,
            "freeze_records": [
              {
                "amount": 1000000000,
                "energy_gained": 0,
                "freeze_height": 0,
                "unlock_height": 0
              }
            ]
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000008f0d18000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000f5e2ad04a90516e795b90f01caf1cbd047ab365e6ed57d838ba889e57bb4a70c1259e4202a7e011a59923690e0f8784338b82c2b50328956dd7d809eb3d4c907",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "energy",
          "payload": {
            "variant": "unfreeze_tos",
            "amount": 150000000,
            "duration_days": null,
            "delegatees": [],
            "from_delegation": false,
            "record_index": null,
            "delegatee_address": null
          },
          "fee": 0,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "f5e2ad04a90516e795b90f01caf1cbd047ab365e6ed57d838ba889e57bb4a70c1259e4202a7e011a59923690e0f8784338b82c2b50328956dd7d809eb3d4c907",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b24905020000000008f0d18000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000f5e2ad04a90516e795b90f01caf1cbd047ab365e6ed57d838ba889e57bb4a70c1259e4202a7e011a59923690e0f8784338b82c2b50328956dd7d809eb3d4c907"
        }
      },
      "expected": {
        "success": false,
        "error_code": 261,
        "state_digest": "4df2ac2f0daa5b915b9972154a04f26a67e1eb46437d28b3cd7c3a5267df9633",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 10000000000,
              "nonce": 5,
              "frozen": 1000000000,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "energy_resources": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "energy": 0,
              "frozen_tos": 1000000000,
              "freeze_records": [
                {
                  "amount": 1000000000,
                  "energy_gained": 0,
                  "freeze_height": 0,
                  "unlock_height": 0
                }
              ]
            }
          ]
        }
      }
    }
  ]
}