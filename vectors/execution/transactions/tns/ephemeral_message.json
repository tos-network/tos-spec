{
  "test_vectors": [
    {
      "name": "ephemeral_message_success",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009d0761fef09cab58ac09a019230dca88e4e602985f80088da1eb375db54ee509656306e3bb9ef1fd7e25ffb1703a78379d5e7b6f3fbea572d6f9aecd402bc708",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "9d0761fef09cab58ac09a019230dca88e4e602985f80088da1eb375db54ee509656306e3bb9ef1fd7e25ffb1703a78379d5e7b6f3fbea572d6f9aecd402bc708",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009d0761fef09cab58ac09a019230dca88e4e602985f80088da1eb375db54ee509656306e3bb9ef1fd7e25ffb1703a78379d5e7b6f3fbea572d6f9aecd402bc708"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_nonce_too_low",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000004000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000e27e3dbe493f523e3d3ce367507130d2e5e1b2b17d35f0aafe8bf2ee483f360c1048b73832049faf9abfdaf5dc8facf3492143db89ab4aa95e59992efba6120e",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 4,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 4,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "e27e3dbe493f523e3d3ce367507130d2e5e1b2b17d35f0aafe8bf2ee483f360c1048b73832049faf9abfdaf5dc8facf3492143db89ab4aa95e59992efba6120e",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000004000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000e27e3dbe493f523e3d3ce367507130d2e5e1b2b17d35f0aafe8bf2ee483f360c1048b73832049faf9abfdaf5dc8facf3492143db89ab4aa95e59992efba6120e"
        }
      },
      "expected": {
        "success": false,
        "error_code": 272,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_nonce_too_high_strict",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000006000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000007141a45f5d142d0b99ff1f00e211e1417e160eff6342e597b7f4ea563bd1bf0e675f33100ee29b255ce954d1b34ec258a84766455f2d944f48a375af54494f09",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 6,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 6,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "7141a45f5d142d0b99ff1f00e211e1417e160eff6342e597b7f4ea563bd1bf0e675f33100ee29b255ce954d1b34ec258a84766455f2d944f48a375af54494f09",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000006000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000007141a45f5d142d0b99ff1f00e211e1417e160eff6342e597b7f4ea563bd1bf0e675f33100ee29b255ce954d1b34ec258a84766455f2d944f48a375af54494f09"
        }
      },
      "expected": {
        "success": false,
        "error_code": 273,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_insufficient_fee",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 99999,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "9255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08"
        }
      },
      "expected": {
        "success": false,
        "error_code": 769,
        "state_digest": "845c9f364d3f686d0b619ad3ac6f5e5ccd6106fbac96543a1730639a9c75999c",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99999,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_exact_balance_for_fee",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "9255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "86aeace30aae470182265c0764b0a5ac787fc2b03ceb3cf8bd8c904d4ff7f5ce",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 0,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_too_low",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000630064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 99,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000630064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        }
      },
      "expected": {
        "success": false,
        "error_code": 256,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_too_high",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151810064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 86401,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151810064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        }
      },
      "expected": {
        "success": false,
        "error_code": 256,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_content_too_long",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bdaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bdaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        }
      },
      "expected": {
        "success": false,
        "error_code": 256,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_empty_content",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640000e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640000e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        }
      },
      "expected": {
        "success": false,
        "error_code": 256,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_self_send",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000fe5491c8e78ec0b230ace92e2e0e8b7b0c7af6a95ee8812e16fbe4f04b03d70ca6b775fc02d6c92e05f44af12edd76d0fde0308d44efa3f8c3bc00ca3b69640f",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "fe5491c8e78ec0b230ace92e2e0e8b7b0c7af6a95ee8812e16fbe4f04b03d70ca6b775fc02d6c92e05f44af12edd76d0fde0308d44efa3f8c3bc00ca3b69640f",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df0000000000000005000000640064aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000fe5491c8e78ec0b230ace92e2e0e8b7b0c7af6a95ee8812e16fbe4f04b03d70ca6b775fc02d6c92e05f44af12edd76d0fde0308d44efa3f8c3bc00ca3b69640f"
        }
      },
      "expected": {
        "success": false,
        "error_code": 1033,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_exact_min",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000022b030117c7ac5ee0150c63cf3009264b3b3883b3f195974256bbe41d5237a0e6e2d78f8c684ce216f34dd7566e8db11913ad36da6f5ad78c0ddff2623fb9d09",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "22b030117c7ac5ee0150c63cf3009264b3b3883b3f195974256bbe41d5237a0e6e2d78f8c684ce216f34dd7566e8db11913ad36da6f5ad78c0ddff2623fb9d09",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000022b030117c7ac5ee0150c63cf3009264b3b3883b3f195974256bbe41d5237a0e6e2d78f8c684ce216f34dd7566e8db11913ad36da6f5ad78c0ddff2623fb9d09"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_ttl_exact_max",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000073ec54864e37fa49be9f87681bf3357f58a84b93a725a3613fccd315f98f350aa643d79287f45f14c791ea0b3c3ce5cd6e6b3c0747ec744fd0a7c633697a2909",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 86400,
            "encrypted_content": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "73ec54864e37fa49be9f87681bf3357f58a84b93a725a3613fccd315f98f350aa643d79287f45f14c791ea0b3c3ce5cd6e6b3c0747ec744fd0a7c633697a2909",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a0000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000073ec54864e37fa49be9f87681bf3357f58a84b93a725a3613fccd315f98f350aa643d79287f45f14c791ea0b3c3ce5cd6e6b3c0747ec744fd0a7c633697a2909"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_content_exact_max",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccce2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000004d3c9b935df27c9d2ed7075a5136edcbcc001301dcc9f8cb42e1ee8e96de6107a96df9942433eb3652f7a7e7b69d1355b4a0a7b902ea790ea26c2d090ebb4605",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "4d3c9b935df27c9d2ed7075a5136edcbcc001301dcc9f8cb42e1ee8e96de6107a96df9942433eb3652f7a7e7b69d1355b4a0a7b902ea790ea26c2d090ebb4605",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb00000000000000050000006400bccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccce2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000004d3c9b935df27c9d2ed7075a5136edcbcc001301dcc9f8cb42e1ee8e96de6107a96df9942433eb3652f7a7e7b69d1355b4a0a7b902ea790ea26c2d090ebb4605"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier1",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "9255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009255a2cd14bb6e4ba1cbf92533275ffc37bfa7fd7e97653a5f7fbee7faca0b03bfd7ff395620d4190faddb90ec61fc31cbbc03341dac440cf868b20e28488e08"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier1_insufficient",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000013870000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000682462f3060c8ded75a5bc9d125a02a6a0c0c76ed0758aa9f341a0b426914f06680e06cee621f7b9cd1dd117544bbd4cbbba6048d8e5ccae327ad436f5599803",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 100,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 4999,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "682462f3060c8ded75a5bc9d125a02a6a0c0c76ed0758aa9f341a0b426914f06680e06cee621f7b9cd1dd117544bbd4cbbba6048d8e5ccae327ad436f5599803",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000640032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000013870000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000682462f3060c8ded75a5bc9d125a02a6a0c0c76ed0758aa9f341a0b426914f06680e06cee621f7b9cd1dd117544bbd4cbbba6048d8e5ccae327ad436f5599803"
        }
      },
      "expected": {
        "success": false,
        "error_code": 769,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000041f1b6305520382a187666cd11210892878b17536653c8638ee757da606200c1b9cc47a5afc0633ba94436e02b69167ed475faefab58ac8cc5a41c628757907",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 101,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "041f1b6305520382a187666cd11210892878b17536653c8638ee757da606200c1b9cc47a5afc0633ba94436e02b69167ed475faefab58ac8cc5a41c628757907",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000041f1b6305520382a187666cd11210892878b17536653c8638ee757da606200c1b9cc47a5afc0633ba94436e02b69167ed475faefab58ac8cc5a41c628757907"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2_insufficient",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76000000000000270f000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000012b12f610fa91343609f402891f40238a5da061f8945784fbd57dbf0fccc780782bfdb4776bf99028995ccd07dcc73a7f95bacf460d8afeb403868eed08bfa01",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 101,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 9999,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "12b12f610fa91343609f402891f40238a5da061f8945784fbd57dbf0fccc780782bfdb4776bf99028995ccd07dcc73a7f95bacf460d8afeb403868eed08bfa01",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000000650032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76000000000000270f000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000012b12f610fa91343609f402891f40238a5da061f8945784fbd57dbf0fccc780782bfdb4776bf99028995ccd07dcc73a7f95bacf460d8afeb403868eed08bfa01"
        }
      },
      "expected": {
        "success": false,
        "error_code": 769,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier2_boundary",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000c529a37b2020e048100d5234707227577c873f3bcf197314f256400c0dddb2054dcfa930222ff79dd330df70890ab8e45deb5db1737de286a9ac57856c15e10c",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 28800,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "c529a37b2020e048100d5234707227577c873f3bcf197314f256400c0dddb2054dcfa930222ff79dd330df70890ab8e45deb5db1737de286a9ac57856c15e10c",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000c529a37b2020e048100d5234707227577c873f3bcf197314f256400c0dddb2054dcfa930222ff79dd330df70890ab8e45deb5db1737de286a9ac57856c15e10c"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier3",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009e26de5869c3eb75d0facbc4a1f8aab23e12d71f2b0b9372101e72fecb4fa805826001d5342c646478972cf83dfad0e3a4db3893f83f8159570454e2f99b2003",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 28801,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "9e26de5869c3eb75d0facbc4a1f8aab23e12d71f2b0b9372101e72fecb4fa805826001d5342c646478972cf83dfad0e3a4db3893f83f8159570454e2f99b2003",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000009e26de5869c3eb75d0facbc4a1f8aab23e12d71f2b0b9372101e72fecb4fa805826001d5342c646478972cf83dfad0e3a4db3893f83f8159570454e2f99b2003"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_tier3_insufficient",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d760000000000003a970000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000073a11f8468841fd8d5eeca11ce496219aceb8cc096c3bd9737b9ea660622900facc74281f3d5cffb1521408e717ce016aeaedcce76b189924dc35ae7351cf0c",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 28801,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 14999,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "073a11f8468841fd8d5eeca11ce496219aceb8cc096c3bd9737b9ea660622900facc74281f3d5cffb1521408e717ce016aeaedcce76b189924dc35ae7351cf0c",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000070810032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d760000000000003a970000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000073a11f8468841fd8d5eeca11ce496219aceb8cc096c3bd9737b9ea660622900facc74281f3d5cffb1521408e717ce016aeaedcce76b189924dc35ae7351cf0c"
        }
      },
      "expected": {
        "success": false,
        "error_code": 769,
        "state_digest": "a8cd0b86d3f5ce0c7abf43ca9dbfb61cb2cc24846d4d77960c2eeeda8b1bfa18",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 100000000,
              "nonce": 5,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    },
    {
      "name": "ephemeral_message_fee_max_ttl",
      "description": "",
      "pre_state": {
        "network_chain_id": 3,
        "global_state": {
          "total_supply": 0,
          "total_burned": 0,
          "total_energy": 0,
          "block_height": 0,
          "timestamp": 0
        },
        "accounts": [
          {
            "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
            "balance": 100000000,
            "nonce": 5,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          },
          {
            "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
            "balance": 100000000,
            "nonce": 0,
            "frozen": 0,
            "energy": 0,
            "flags": 0,
            "data": ""
          }
        ],
        "tns_names": [
          {
            "name": "alice",
            "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
          },
          {
            "name": "bob.wallet",
            "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
          }
        ]
      },
      "input": {
        "kind": "tx",
        "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000720d0a66e11a5510f916fbb5e3fc56c478bf3c57bff58ac88847fcbd089e3208c6f12b8a022a98ac876ebbc0a552721bccd26e5f5ef80a8cb699a8bbb0938e0e",
        "tx": {
          "version": 1,
          "chain_id": 3,
          "source": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
          "tx_type": "ephemeral_message",
          "payload": {
            "sender_name_hash": "71b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242df",
            "recipient_name_hash": "ec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb",
            "message_nonce": 5,
            "ttl_blocks": 86400,
            "encrypted_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "receiver_handle": "e2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d76"
          },
          "fee": 100000,
          "fee_type": 0,
          "nonce": 5,
          "reference_hash": "0000000000000000000000000000000000000000000000000000000000000000",
          "reference_topoheight": 0,
          "signature": "720d0a66e11a5510f916fbb5e3fc56c478bf3c57bff58ac88847fcbd089e3208c6f12b8a022a98ac876ebbc0a552721bccd26e5f5ef80a8cb699a8bbb0938e0e",
          "wire_hex": "0103f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b2491671b278f3dc434447fc620500e47b6a80b0cb0df76a1051119fe19ed4953242dfec7a3ac4e33002e8327b7daae1c5c70ba01f2ad4db0b6d7d5c424db97d5154eb0000000000000005000151800032aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae2f2ae0a6abc4e71a884a961c500515f58e30b6aa582dd8db6a65945e08d2d7600000000000186a00000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000720d0a66e11a5510f916fbb5e3fc56c478bf3c57bff58ac88847fcbd089e3208c6f12b8a022a98ac876ebbc0a552721bccd26e5f5ef80a8cb699a8bbb0938e0e"
        }
      },
      "expected": {
        "success": true,
        "error_code": 0,
        "state_digest": "c5ff10f5d71b5a327ece10a793b1263084a42c833d7ac0f77ad02e66e73ab8d2",
        "post_state": {
          "network_chain_id": 3,
          "global_state": {
            "total_supply": 0,
            "total_burned": 0,
            "total_energy": 0,
            "block_height": 0,
            "timestamp": 0
          },
          "accounts": [
            {
              "address": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249",
              "balance": 99900000,
              "nonce": 6,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            },
            {
              "address": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824",
              "balance": 100000000,
              "nonce": 0,
              "frozen": 0,
              "energy": 0,
              "flags": 0,
              "data": ""
            }
          ],
          "tns_names": [
            {
              "name": "alice",
              "owner": "f05bc1df2831717c2992d85b57e0cf3d123fd6c254257de5f784be369747b249"
            },
            {
              "name": "bob.wallet",
              "owner": "c29d170ab8a5b42a3520878501a87a27f9b5653fca8b0c59fc2786cf26e37824"
            }
          ]
        }
      }
    }
  ]
}